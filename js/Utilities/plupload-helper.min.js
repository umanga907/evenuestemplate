function initializeAjaxSettings(){hideProgressBar();$.ajaxSetup({beforeSend:function(n){$("#ResponseStatus").hide();n.setRequestHeader(_antiforgeryTokenHeaderName,_antiForgeryToken)},error:function(n){hideProgressBar();handleAjaxServerError(n)}});$(document).ajaxStart(function(){_showLoadingIndicator=!0;_loadingIndicatortimeOutRef=setTimeout("showProgressBar()",_loadingIndicatorDelay)});$(document).ajaxStop(function(){hideProgressBar()})}function handleAjaxServerError(n){var r=_sessionExpiry500MessageTitle,t=_sessionExpiry500Message,i="Warning",u,f;if(n.status==400||n.status==422)i="Warning",r="Validation Error!",t=handleValidationError(n);else if(n.status==401)i="Warning",r=_unAuthorized401MessageTitle,t=_unAuthorized401Message;else{if(n.status==403){i="Warning";f(message);window.location.href=_loginUrl;return}n.status==404?(i="Warning",r=_sessionExpiry404MessageTitle,t=_sessionExpiry404Message):n.status==500?(i="Error",r=_sessionExpiry500MessageTitle,u=JSON.parse(n.responseText),t=_sessionExpiry500Message.replace(/{ERROR_MESSAGE}/gi,u.Message),t=t.replace(/{CORRELATION_ID}/gi,u.CorelationId)+u.Stack):(i="Error",t=n.status+": "+n.statusText)}f=makeAlertBox(t,i);(_currentForm==undefined||_currentForm==null)&&(_currentForm=$("error-message"));$(f).prependTo(_currentForm).show()}function handleValidationError(n){var t="",i=0;return(_currentForm===undefined||_currentForm===null)&&(_currentForm=$("error-message")),$(_currentForm).find("input").removeClass("input-validation-error"),$.each(n.responseJSON,function(n,r){var u,f;r.Name?(f=$(_currentForm).find("*[name='"+r.Name+"']"),f.is(":hidden")||(i++,f.addClass("input-validation-error"),u=$(_currentForm).find("[data-valmsg-for='"+r.Name+"']"),u.removeClass("field-validation-valid"),u.addClass("field-validation-error"),u.text(r.Message))):t+="<li>"+r.Message+"<\/li>"}),t=t===""?"Please provide the required information.":'<ul class="warning-wrap">'+t+"<\/ul>"}function makeAlertBox(n,t){var i,r,u,f;return $("#ResponseStatus").remove(),i="alert-warning",r="fas fa-exclamation-triangle",t=="Error"?(i="alert-danger",r="fas fa-times"):t=="Success"?(i="alert-success",r="fas fa-check-circle"):t=="Warning"&&(i="alert-warning",r="fas fa-exclamation-triangle"),u='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button>',f='<div id="ResponseStatus" class="alert '+i+' alert-dismissible fade show" role="alert"><i class="'+r+'" style="font-size:1.5rem;"><\/i>&nbsp;&nbsp;'+n+" "+u+"<\/div>",f}function showProgressBar(){_showLoadingIndicator&&$("#"+_loadingIndicatorElementName).show()}function hideProgressBar(){_showLoadingIndicator=!1;$("#"+_loadingIndicatorElementName).hide();clearTimeout(_loadingIndicatortimeOutRef)}function classExists(n){return $("."+n)[0]?!0:!1}function initializeAllDatePickers(){classExists("date")&&$(".date").datetimepicker({format:_dateFormat,maxDate:moment()});classExists("date-time")&&$(".date-time").datetimepicker({format:_dateTimeFormat,maxDate:moment()})}function initializeAllAutoComplete(){classExists("auto-complete")&&$(".auto-complete").typeahead({items:10,minLength:1,delay:1,displayText:function(n){return n.Text},afterSelect:function(){var n=$(this.$element[0]).attr("data-after-select");typeof n!="undefined"&&n!==null&&n!==""&&n.selector!="#undefined"&&executeFunctionByName(n.selector.replace("#",""))},source:function(n,t){var r=$(this.$element[0]).attr("data-url"),i,u;if(typeof r=="undefined"||r==null){alert("Please specify the data-url");return}return i=$(this.$element[0]).attr("data-parent-field"),u="",typeof i!="undefined"&&i!==null&&i.length>0&&(u=$("#"+i).val()),$.getJSON(r,{v:n,parent:u},function(n){t(n)})},updater:function(n){var t=$(this.$element[0]).attr("data-id-field");return typeof t!="undefined"&&t!==null&&t!==""&&$("#"+t).val(n.Value),n.Text}})}function showModelDialog(n,t,i,r,u,f,e,o){var s,h;n!=null&&(s=$("#modal-container"),s.find(".modal-title").html(""),s.find(".modal-body").html(""),s.find(".modal-title").html(t),s.find(".modal-dialog").removeClass("modal-lg"),s.find(".modal-dialog").removeClass("modal-sm"),i!=null&&s.find(".modal-dialog").css("width",i),r!=null&&s.find(".modal-body").css("height",r),s.find(".modal-footer").empty(),h=JSON.parse(_dialogButtons),e!=null&&(h=JSON.parse(e)),$.each(h,function(n,t){var r="btn btn-primary btn-sm",i,u;t.Css!=null&&(r="btn "+t.Css);i="";t.IconCss!=null&&(i='<i class="'+t.IconCss+'"><\/i>&nbsp;');u='<button class="'+r+'" onclick='+t.CallBack+">"+i+t.Value+"<\/button>";$(".modal-footer").append(u)}),$.ajax({url:n,cache:!1,beforeSend:function(){},success:function(n){s.find(".modal-body").html(n);initializeAllAutoComplete();initializeAllDatePickers();$.isEmptyObject(f)||(_ajaxFormDefaultSettings.success=window[f]);$.isEmptyObject(u)||(_ajaxFormDefaultSettings.beforeSubmit=window[u]);$(".ajax-form").ajaxForm(_ajaxFormDefaultSettings)},error:function(n){var t=n.status+": "+n.statusText;s.find(".modal-body").html(t)}}),o||$("#modal-container").modal({show:!0}))}function initializeModelforLink(){$("#modal-container").on("show.bs.modal",function(n){var t=$(n.relatedTarget),u=t.data("dialog-url"),f=t.data("dialog-title"),e=t.data("dialog-success-function"),o=t.data("dialog-before-submit-function"),s=t.data("dialog-width"),h=t.data("dialog-height"),i=t.data("dialog-buttons"),r=_dialogButtons;i!=null&&(r=i);showModelDialog(u,f,s,h,o,e,r,!0)})}function onEditorClose(n){(n==""||n==undefined||n.attr("action")==null)&&(n=$(document.forms[0]));$(n).closest(".modal").modal("hide")}function initializeAllAjaxForms(){var n=$(".ajax-form"),t,i;n.length!=0&&(t=n.data("before-submit-method"),$.isEmptyObject(t)||(_ajaxFormDefaultSettings.beforeSubmit=window[t]),i=n.data("after-submit-method"),$.isEmptyObject(i)||(_ajaxFormDefaultSettings.success=window[i]),n.ajaxForm(_ajaxFormDefaultSettings))}function validateForm(n,t){var r=t[0],i=$(r).validate().form();return i==!1?hideProgressBar():r.id=="integrationForm"&&(i=ValidateForDuplicateColumnsInMappingAndWorkflowGrids()),i}function onFormSave(){_currentForm=$(".ajax-form");$(_currentForm).ajaxSubmit(_ajaxFormDefaultSettings)}function onFormSaveSuccess(n,t,i,r){var u,f,e;return hideProgressBar(),i.status=="200"?($(".validation-summary-errors").remove(),u=makeAlertBox(_sucessMessage,"Success"),$(u).prependTo(r).show(),f=r.find("#"+r.attr("data-key-field")).filter(":hidden"),e=r.attr("data-response-key-field"),n!=null&&f.val(n[e]),$(r).closest(".modal").modal("hide"),!0):void 0}function executeFunctionByName(n,t){var i=window[n];typeof i=="function"&&(t==null?i():i.apply(null,t))}function InitializeCroppie(n,t,i,r,u){$image_crop=$("#"+n).croppie({enableExif:!0,viewport:{width:r,height:u,type:"square"},boundary:{width:r,height:u},update:function(){$image_crop.croppie("result",{type:"canvas"}).then(function(n){$("#"+i).val(n)})}});$("#"+t).on("change",function(){var n=new FileReader;n.onload=function(n){$image_crop.croppie("bind",{url:n.target.result})};n.readAsDataURL(this.files[0])})}var _baseUrl=window.location.protocol+"//"+window.location.host,_loadingIndicatorElementName="loading-indicator",_loadingIndicatorDelay=2e3,_showLoadingIndicator=!1,_loadingIndicatortimeOutRef,_antiforgeryTokenHeaderName="X-XSRF-TOKEN",_antiForgeryToken="",_dateFormat="MM/DD/YYYY",_dateTimeFormat="MM/DD/YYYY hh:mm",_currencySymbol="$",_sucessMessage="The Data Saved Successfully!",_unAuthorized401MessageTitle="Unauthorized",_unAuthorized401Message="Sorry, you are not authorized to view the request page. Please contact administrator.",_sessionExpiry403MessageTitle="Forbidden",_sessionExpiry403Message="Sorry, your session has expired. Please login again to continue.",_sessionExpiry404MessageTitle="Not Found",_sessionExpiry404Message="Sorry, the requested file or folder is not found.",_sessionExpiry500MessageTitle="Internal Server Error",_sessionExpiry500Message="We encountered an error while processing your request. We apologies for inconvenience. Please reload the page and try again.<br/>If you continue to encounter this error contact our <a href='mailto:bk.chandru@gmail.com?subject=Error:{CORRELATION_ID}&body=Hi,We got an error while acessing your website.'>customer support<\/a> by mentioning the ID: {CORRELATION_ID}<br/><br/><strong>Error Message:<\/strong>{ERROR_MESSAGE}",_booleanTrue="Yes",_booleanFalse="No",_currentForm=null,_ajaxFormDefaultSettings={beforeSubmit:validateForm,success:onFormSaveSuccess},_dialogButtons='[{ "Value": "Close", "CallBack": "$(\'#modal-container\').modal(\'hide\')", "Css": "btn-default", "IconCss": "glyphicon glyphicon-remove" }, { "Value": "OK", "CallBack":"onFormSave(this);","Css":"btn-primary","IconCss":"glyphicon glyphicon-ok"}]';